generator client {
  provider = "prisma-client-js"
  output   = "../app/generated/prisma"
}

datasource db {
  provider = "postgresql"
}

model hero_slides {
  id          Int     @id @default(autoincrement())
  tag         String?
  title       String?
  highlight   String?
  description String?
  bg_image    String?
  gradient    String?
  btn_color   String?
}

model product_features {
  id         Int       @id @default(autoincrement())
  product_id String?
  feature    String
  products   products? @relation(fields: [product_id], references: [id], onDelete: Cascade, onUpdate: NoAction)
}

model product_guides {
  id         Int       @id @default(autoincrement())
  product_id String?
  step_order Int?
  step_text  String?
  products   products? @relation(fields: [product_id], references: [id], onDelete: Cascade, onUpdate: NoAction)
}

model product_options {
  id             Int       @id @default(autoincrement())
  product_id     String?
  option_code    String?
  name           String?
  price          Int?
  original_price Int?
  products       products? @relation(fields: [product_id], references: [id], onDelete: Cascade, onUpdate: NoAction)
}

model products {
  id               String             @id
  name             String
  description      String?
  long_description String?
  youtube_video_id String?
  price            Int
  original_price   Int?
  thumbnail        String?
  category         String
  created_at       DateTime?          @default(now()) @db.Timestamp(6)
  product_features product_features[]
  product_guides   product_guides[]
  product_options  product_options[]
}

model category {
  id            Int     @id @default(autoincrement())
  category_name String?
}

model account {
  id            Int         @id @default(autoincrement())
  product_id    String
  option_id     String
  username      String
  password      String
  is_sold       Boolean     @default(false)
  sold_at       DateTime?
  order_item_id Int?
  created_at    DateTime    @default(now())
  order_item    order_item? @relation(fields: [order_item_id], references: [id])
}

model order {
  id             String       @id @default(dbgenerated("(gen_random_uuid())::text"))
  order_code     Int          @unique
  user_email     String?
  total_amount   Int
  status         String       @default("PENDING")
  created_at     DateTime     @default(now())
  updated_at     DateTime     @default(now())
  payment_method String?
  transaction_id String?
  order_item     order_item[]
}

model order_item {
  id          Int       @id @default(autoincrement())
  order_id    String
  product_id  String
  productName String
  option_id   String
  optionName  String
  quantity    Int
  price       Int
  account     account[]
  order       order     @relation(fields: [order_id], references: [id], onDelete: Cascade, onUpdate: NoAction)
}

model admin {
  id         Int      @id @default(autoincrement())
  user_name  String   @unique
  password   String
  created_at DateTime @default(now())
}
